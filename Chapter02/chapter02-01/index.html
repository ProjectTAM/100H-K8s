
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="100 小时后请叫我 K8s 管理员系列课程">
      
      
        <meta name="author" content="ProjectTAM">
      
      
        <link rel="canonical" href="https://100h-k8s.projecttam.com/Chapter02/chapter02-01/">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-8.5.10">
    
    
      
        <title>Kubernetes 架构 - 节点 - 100H-K8s</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.472b142f.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.08040f6c.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Sans+SC:300,300i,400,400i,700,700i%7CAzeret+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Noto Sans SC";--md-code-font:"Azeret Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="green">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#kubernetes-" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
        <aside class="md-banner">
          <div class="md-banner__inner md-grid md-typeset">
            
              <button class="md-banner__button md-icon" aria-label="不再显示此消息">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
              </button>
            
            
你正在查看本文档的非正式版本，其内容可能不经通知而变化。查阅 <a href="/about/changelog">更新日志</a> 了解当前版本，查阅 <a href="/about/license">许可信息</a> 了解项目开源协议

          </div>
          
            <script>var content,el=document.querySelector("[data-md-component=announce]");el&&(content=el.querySelector(".md-typeset"),__md_hash(content.innerHTML)===__md_get("__announce")&&(el.hidden=!0))</script>
          
        </aside>
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="https://100h-k8s.projecttam.com" title="100H-K8s" class="md-header__button md-logo" aria-label="100H-K8s" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 9h2.31l.32-3h2l-.32 3h2l.32-3h2l-.32 3H15v2h-1.9l-.2 2H15v2h-2.31l-.32 3h-2l.32-3h-2l-.32 3h-2l.32-3H5v-2h1.9l.2-2H5V9m4.1 2-.2 2h2l.2-2M19 6h-2v8h2m0 2h-2v2h2Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            100H-K8s
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Kubernetes 架构 - 节点
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="green"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
          
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="light-green"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/ProjectTAM/100H-K8s" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    ProjectTAM/100H-K8s
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://100h-k8s.projecttam.com" title="100H-K8s" class="md-nav__button md-logo" aria-label="100H-K8s" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 9h2.31l.32-3h2l-.32 3h2l.32-3h2l-.32 3H15v2h-1.9l-.2 2H15v2h-2.31l-.32 3h-2l.32-3h-2l-.32 3h-2l.32-3H5v-2h1.9l.2-2H5V9m4.1 2-.2 2h2l.2-2M19 6h-2v8h2m0 2h-2v2h2Z"/></svg>

    </a>
    100H-K8s
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/ProjectTAM/100H-K8s" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    ProjectTAM/100H-K8s
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" type="checkbox" id="__nav_1" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../..">目录</a>
          
            <label for="__nav_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="目录" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          目录
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Chapter01/chapter01/" class="md-nav__link">
        Kubernetes 概述
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../chapter02/" class="md-nav__link">
        Kubernetes 架构
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Chapter03/chapter03/" class="md-nav__link">
        Kubernetes 组件
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Chapter04/chapter04/" class="md-nav__link">
        使用 Minikube 搭建单节点集群
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Chapter05/chapter05/" class="md-nav__link">
        Kubernetes 容器
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Chapter06/chapter06/" class="md-nav__link">
        Kubernetes 工作负载
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Chapter07/chapter07/" class="md-nav__link">
        Kubernetes 网络模型
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Chapter08/chapter08/" class="md-nav__link">
        Kubernetes 服务
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Chapter09/chapter09/" class="md-nav__link">
        Kubernetes 负载均衡
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Chapter10/chapter10/" class="md-nav__link">
        Kubernetes 卷管理
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Chapter11/chapter11/" class="md-nav__link">
        Kubernetes ConfigMap
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Chapter12/chapter12/" class="md-nav__link">
        Kubernetes Secret
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Chapter13/chapter13/" class="md-nav__link">
        Kubernetes 资源管理
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Chapter14/chapter14/" class="md-nav__link">
        Kubernetes 调度
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Chapter15/chapter15/" class="md-nav__link">
        Kubernetes 实践手册
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2">
          关于
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="关于" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          关于
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../about/contact/" class="md-nav__link">
        联系我们
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../about/license/" class="md-nav__link">
        许可协议
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../about/changelog/" class="md-nav__link">
        更新日志
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#management" class="md-nav__link">
    管理
  </a>
  
    <nav class="md-nav" aria-label="管理">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#node-name-uniqueness" class="md-nav__link">
    节点名称唯一性
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#self-registration-of-nodes" class="md-nav__link">
    节点自注册
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#manual-node-administration" class="md-nav__link">
    手动节点管理
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#node-status" class="md-nav__link">
    节点状态
  </a>
  
    <nav class="md-nav" aria-label="节点状态">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#addresses" class="md-nav__link">
    地址
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#condition" class="md-nav__link">
    状况
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#capacity" class="md-nav__link">
    容量（Capacity）与可分配（Allocatable）
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#info" class="md-nav__link">
    信息（Info）
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#heartbeats" class="md-nav__link">
    心跳
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#node-controller" class="md-nav__link">
    节点控制器
  </a>
  
    <nav class="md-nav" aria-label="节点控制器">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rate-limits-on-eviction" class="md-nav__link">
    逐出速率限制
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#node-capacity" class="md-nav__link">
    资源容量跟踪
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#node-topology" class="md-nav__link">
    节点拓扑
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#graceful-node-shutdown" class="md-nav__link">
    节点体面关闭
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#non-graceful-node-shutdown" class="md-nav__link">
    节点非体面关闭
  </a>
  
    <nav class="md-nav" aria-label="节点非体面关闭">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pod-priority-graceful-node-shutdown" class="md-nav__link">
    基于 Pod 优先级的节点体面关闭
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#swap-memory" class="md-nav__link">
    交换内存管理
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="kubernetes-">Kubernetes 架构 - 节点</h1>
<div class="admonition info">
<p class="admonition-title">章节说明</p>
<p>本文对官方文档 <a href="https://kubernetes.io/zh-cn/docs/concepts/architecture/nodes/">Kubernetes 架构 - 节点</a> 页面进行了排版修改，并未改动文本内容（删掉了 <strong>接下来</strong>、<strong>反馈</strong>），排版逻辑可参考 <a href="https://github.com/ProjectTAM/100H-K8s/blob/master/CONTRIBUTING.md">如何贡献</a> 中的书写建议。当前摘录版本：<a href="https://github.com/kubernetes/website/commit/44cf6e676d4e8bf86af95da5dfdc49fea0f0b9fe">44CF6E6</a></p>
</div>
<p>Kubernetes 通过将容器放入在节点（Node）上运行的 Pod 中来执行你的工作负载。节点可以是一个虚拟机或者物理机器，取决于所在的集群配置。每个节点包含运行 Pod 所需的服务；这些节点由控制面负责管理</p>
<p>通常集群中会有若干个节点；而在一个学习所用或者资源受限的环境中，你的集群中也可能只有一个节点</p>
<p>节点上的 <a href="https://kubernetes.io/zh-cn/docs/concepts/overview/components/#node-components">组件</a> 包括 kubelet、容器运行时以及 kube-proxy</p>
<h2 id="management">管理</h2>
<p>向 API 服务器添加节点的方式主要有两种：</p>
<ol>
<li>节点上的 <code>kubelet</code> 向控制面执行自注册</li>
<li>你（或者别的什么人）手动添加一个 Node 对象</li>
</ol>
<p>在你创建了 Node 对象或者节点上的 kubelet 执行了自注册操作之后，控制面会检查新的 Node 对象是否合法。例如，如果你尝试使用下面的 JSON 对象来创建 Node 对象：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="p">{</span><span class="w"></span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="w">  </span><span class="nt">&quot;kind&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Node&quot;</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="w">  </span><span class="nt">&quot;apiVersion&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;v1&quot;</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="w">  </span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="w">    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;10.240.79.157&quot;</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="w">    </span><span class="nt">&quot;labels&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="w">      </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;my-first-k8s-node&quot;</span><span class="w"></span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="w">  </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>Kubernetes 会在内部创建一个 Node 对象作为节点的表示。Kubernetes 检查 kubelet 向 API 服务器注册节点时使用的 metadata.name 字段是否匹配。如果节点是健康的（即所有必要的服务都在运行中），则该节点可以用来运行 Pod。否则，直到该节点变为健康之前，所有的集群活动都会忽略该节点</p>
<div class="admonition note">
<p class="admonition-title">说明：</p>
<p>Kubernetes 会一直保存着非法节点对应的对象，并持续检查该节点是否已经变得健康。你，或者某个控制器必须显式地删除该 Node 对象以停止健康检查操作</p>
</div>
<p>Node 对象的名称必须是合法的 <a href="https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/names#dns-subdomain-names">DNS 子域名</a></p>
<h3 id="node-name-uniqueness">节点名称唯一性</h3>
<p>节点的 <a href="https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/names#names">名称</a> 用来标识 Node 对象。没有两个 Node 可以同时使用相同的名称。Kubernetes 还假定名字相同的资源是同一个对象。就 Node 而言，隐式假定使用相同名称的实例会具有相同的状态（例如网络配置、根磁盘内容）和类似节点标签这类属性。这可能在节点被更改但其名称未变时导致系统状态不一致。如果某个 Node 需要被替换或者大量变更，需要从 API 服务器移除现有的 Node 对象，之后再在更新之后重新将其加入</p>
<h3 id="self-registration-of-nodes">节点自注册</h3>
<p>当 kubelet 标志 <code>--register-node</code> 为 true（默认）时，它会尝试向 API 服务注册自己。这是首选模式，被绝大多数发行版选用</p>
<p>对于自注册模式，kubelet 使用下列参数启动：</p>
<ul>
<li><code>--kubeconfig</code> - 用于向 API 服务器执行身份认证所用的凭据的路径</li>
<li><code>--cloud-provider</code> - 与某云驱动进行通信以读取与自身相关的元数据的方式</li>
<li><code>--register-node</code> - 自动向 API 服务注册</li>
<li><code>--register-with-taints</code> - 使用所给的污点列表（逗号分隔的 <code>&lt;key&gt;=&lt;value&gt;:&lt;effect&gt;</code>）注册节点。当 register-node 为 false 时无效</li>
<li><code>--node-ip</code> - 节点 IP 地址</li>
<li><code>--node-labels</code> - 在集群中注册节点时要添加的标签。（参见 <a href="https://kubernetes.io/zh-cn/docs/reference/access-authn-authz/admission-controllers/#noderestriction">NodeRestriction 准入控制插件</a> 所实施的标签限制）</li>
<li><code>--node-status-update-frequency</code> - 指定 kubelet 向控制面发送状态的频率</li>
</ul>
<p>启用 <a href="https://kubernetes.io/zh-cn/docs/reference/access-authn-authz/node/">Node 鉴权模式</a> 和 <a href="https://kubernetes.io/zh-cn/docs/reference/access-authn-authz/admission-controllers/#noderestriction">NodeRestriction 准入插件</a> 时，仅授权 <code>kubelet</code> 创建或修改其自己的节点资源</p>
<div class="admonition note">
<p class="admonition-title">说明：</p>
<p>正如 <a href="#node-name-uniqueness">节点名称唯一性</a> 一节所述，当 Node 的配置需要被更新时，一种好的做法是重新向 API 服务器注册该节点。例如，如果 kubelet 重启时其 <code>--node-labels</code> 是新的值集，但同一个 Node 名称已经被使用，则所作变更不会起作用， 因为节点标签是在 Node 注册时完成的</p>
<p>如果在 kubelet 重启期间 Node 配置发生了变化，已经被调度到某 Node 上的 Pod 可能会出现行为不正常或者出现其他问题，例如，已经运行的 Pod 可能通过污点机制设置了与 Node 上新设置的标签相排斥的规则，也有一些其他 Pod， 本来与此 Pod 之间存在不兼容的问题，也会因为新的标签设置而被调到同一节点。 节点重新注册操作可以确保节点上所有 Pod 都被排空并被正确地重新调度</p>
</div>
<h3 id="manual-node-administration">手动节点管理</h3>
<p>你可以使用 kubectl 来创建和修改 Node 对象</p>
<p>如果你希望手动创建节点对象时，请设置 kubelet 标志 <code>--register-node=false</code></p>
<p>你可以修改 Node 对象（忽略 <code>--register-node</code> 设置）。例如，你可以修改节点上的标签或并标记其为不可调度</p>
<p>你可以结合使用 Node 上的标签和 Pod 上的选择算符来控制调度。例如，你可以限制某 Pod 只能在符合要求的节点子集上运行</p>
<p>如果标记节点为不可调度（unschedulable），将阻止新 Pod 调度到该 Node 之上，但不会影响任何已经在其上的 Pod。这是重启节点或者执行其他维护操作之前的一个有用的准备步骤</p>
<p>要标记一个 Node 为不可调度，执行以下命令：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>kubectl cordon <span class="nv">$NODENAME</span>
</code></pre></div>
<p>更多细节参考 <a href="https://kubernetes.io/zh-cn/docs/tasks/administer-cluster/safely-drain-node/">安全地腾空节点</a></p>
<div class="admonition note">
<p class="admonition-title">说明：</p>
<p>被 DaemonSet 控制器创建的 Pod 能够容忍节点的不可调度属性。 DaemonSet 通常提供节点本地的服务，即使节点上的负载应用已经被腾空， 这些服务也仍需运行在节点之上</p>
</div>
<h2 id="node-status">节点状态</h2>
<p>一个节点的状态包含以下信息:</p>
<ul>
<li><a href="https://kubernetes.io/zh-cn/docs/concepts/architecture/nodes/#addresses">地址（Addresses）</a></li>
<li><a href="https://kubernetes.io/zh-cn/docs/concepts/architecture/nodes/#condition">状况（Condition）</a></li>
<li><a href="https://kubernetes.io/zh-cn/docs/concepts/architecture/nodes/#capacity">容量与可分配（Capacity）</a></li>
<li><a href="https://kubernetes.io/zh-cn/docs/concepts/architecture/nodes/#info">信息（Info）</a></li>
</ul>
<p>你可以使用 <code>kubectl</code> 来查看节点状态和其他细节信息：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>kubectl describe node &lt;节点名称&gt;
</code></pre></div>
<p>下面对每个部分进行详细描述</p>
<h3 id="addresses">地址</h3>
<p>这些字段的用法取决于你的云服务商或者物理机配置</p>
<ul>
<li>HostName：由节点的内核报告。可以通过 kubelet 的 <code>--hostname-override</code> 参数覆盖</li>
<li>ExternalIP：通常是节点的可外部路由（从集群外可访问）的 IP 地址</li>
<li>InternalIP：通常是节点的仅可在集群内部路由的 IP 地址</li>
</ul>
<h3 id="condition">状况</h3>
<p><code>conditions</code> 字段描述了所有 <code>Running</code> 节点的状况。状况的示例包括：</p>
<table>
<thead>
<tr>
<th align="left">节点状况</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>Ready</code></td>
<td align="left">如节点是健康的并已经准备好接收 Pod 则为 <code>True</code>；<code>False</code> 表示节点不健康而且不能接收 Pod；<code>Unknown</code> 表示节点控制器在最近 <code>node-monitor-grace-period</code> 期间（默认 40 秒）没有收到节点的消息</td>
</tr>
<tr>
<td align="left"><code>DiskPressure</code></td>
<td align="left"><code>True</code> 表示节点存在磁盘空间压力，即磁盘可用量低, 否则为 <code>False</code></td>
</tr>
<tr>
<td align="left"><code>MemoryPressure</code></td>
<td align="left"><code>True</code> 表示节点存在内存压力，即节点内存可用量低，否则为 <code>False</code></td>
</tr>
<tr>
<td align="left"><code>PIDPressure</code></td>
<td align="left"><code>True</code> 表示节点存在进程压力，即节点上进程过多；否则为 <code>False</code></td>
</tr>
<tr>
<td align="left"><code>NetworkUnavailable</code></td>
<td align="left"><code>True</code> 表示节点网络配置不正确；否则为 <code>False</code></td>
</tr>
</tbody>
</table>
<div class="admonition info">
<p class="admonition-title">说明：</p>
<p>如果使用命令行工具来打印已保护（Cordoned）节点的细节，其中的 Condition 字段可能包括 <code>SchedulingDisabled</code>。<code>SchedulingDisabled</code> 不是 Kubernetes API 中定义的 Condition，被保护起来的节点在其规约中被标记为不可调度（Unschedulable）</p>
</div>
<p>在 Kubernetes API 中，节点的状况表示节点资源中 <code>.status</code> 的一部分。 例如，以下 JSON 结构描述了一个健康节点：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="nt">&quot;conditions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="w">  </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Ready&quot;</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="w">    </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;True&quot;</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="w">    </span><span class="nt">&quot;reason&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;KubeletReady&quot;</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="w">    </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;kubelet is posting ready status&quot;</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="w">    </span><span class="nt">&quot;lastHeartbeatTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2019-06-05T18:38:35Z&quot;</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="w">    </span><span class="nt">&quot;lastTransitionTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2019-06-05T11:41:27Z&quot;</span><span class="w"></span>
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="w">  </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a><span class="p">]</span><span class="w"></span>
</code></pre></div>
<p>如果 Ready 状况的 <code>status</code> 处于 <code>Unknown</code> 或者 <code>False</code> 状态的时间超过了 <code>pod-eviction-timeout</code> 值（一个传递给 kube-controller-manager 的参数），<a href="https://kubernetes.io/zh-cn/docs/concepts/architecture/nodes/#node-controller">节点控制器</a> 会对节点上的所有 Pod 触发 API 发起的驱逐。默认的逐出超时时长为 <strong>5 分钟</strong></p>
<p>某些情况下，当节点不可达时，API 服务器不能和其上的 kubelet 通信。删除 Pod 的决定不能传达给 kubelet，直到它重新建立和 API 服务器的连接为止。 与此同时，被计划删除的 Pod 可能会继续在游离的节点上运行</p>
<p>节点控制器在确认 Pod 在集群中已经停止运行前，不会强制删除它们。你可以看到可能在这些无法访问的节点上运行的 Pod 处于 <code>Terminating</code> 或者 <code>Unknown</code> 状态。如果 kubernetes 不能基于下层基础设施推断出某节点是否已经永久离开了集群，集群管理员可能需要手动删除该节点对象。从 Kubernetes 删除节点对象将导致 API 服务器删除节点上所有运行的 Pod 对象并释放它们的名字</p>
<p>当节点上出现问题时，Kubernetes 控制面会自动创建与影响节点的状况对应的 <a href="https://kubernetes.io/zh-cn/docs/concepts/scheduling-eviction/taint-and-toleration/">污点</a>。调度器在将 Pod 指派到某 Node 时会考虑 Node 上的污点设置。Pod 也可以设置容忍度，以便能够在设置了特定污点的 Node 上运行</p>
<p>进一步的细节可参阅 <a href="https://kubernetes.io/zh-cn/docs/concepts/scheduling-eviction/taint-and-toleration/#taint-nodes-by-condition">根据状况为节点设置污点</a></p>
<h3 id="capacity">容量（Capacity）与可分配（Allocatable）</h3>
<p>这两个值描述节点上的可用资源：CPU、内存和可以调度到节点上的 Pod 的个数上限</p>
<p><code>capacity</code> 块中的字段标示节点拥有的资源总量。<code>allocatable</code> 块指示节点上可供普通 Pod 消耗的资源量</p>
<p>可以在学习如何在节点上 <a href="https://kubernetes.io/zh-cn/docs/tasks/administer-cluster/reserve-compute-resources/#node-allocatable">预留计算资源</a> 的时候了解有关容量和可分配资源的更多信息</p>
<h3 id="info">信息（Info）</h3>
<p>Info 指的是节点的一般信息，如内核版本、Kubernetes 版本（<code>kubelet</code> 和 <code>kube-proxy</code> 版本）、容器运行时详细信息，以及节点使用的操作系统。<code>kubelet</code> 从节点收集这些信息并将其发布到 Kubernetes API</p>
<h2 id="heartbeats">心跳</h2>
<p>Kubernetes 节点发送的心跳帮助你的集群确定每个节点的可用性，并在检测到故障时采取行动</p>
<p>对于节点，有两种形式的心跳:</p>
<ul>
<li>更新节点的 <code>.status</code></li>
<li><code>kube-node-lease</code> 名字空间中的 <a href="https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/lease-v1/">Lease（租约）</a> 对象。每个节点都有一个关联的 Lease 对象</li>
</ul>
<p>与 Node 的 <code>.status</code> 更新相比，Lease 是一种轻量级资源。使用 Lease 来表达心跳在大型集群中可以减少这些更新对性能的影响</p>
<p>kubelet 负责创建和更新节点的 <code>.status</code>，以及更新它们对应的 Lease</p>
<ul>
<li>当节点状态发生变化时，或者在配置的时间间隔内没有更新事件时，kubelet 会更新 <code>.status</code>。<code>.status</code> 更新的默认间隔为 5 分钟（比节点不可达事件的 40 秒默认超时时间长很多）</li>
<li><code>kubelet</code> 会创建并每 10 秒（默认更新间隔时间）更新 Lease 对象。Lease 的更新独立于 Node 的 <code>.status</code> 更新而发生。如果 Lease 的更新操作失败，kubelet 会采用指数回退机制，从 200 毫秒开始重试，最长重试间隔为 7 秒钟</li>
</ul>
<h2 id="node-controller">节点控制器</h2>
<p>节点控制器是 Kubernetes 控制面组件，管理节点的方方面面</p>
<p>节点控制器在节点的生命周期中扮演多个角色。第一个是当节点注册时为它分配一个 CIDR 区段（如果启用了 CIDR 分配）</p>
<p>第二个是保持节点控制器内的节点列表与云服务商所提供的可用机器列表同步。如果在云环境下运行，只要某节点不健康，节点控制器就会询问云服务是否节点的虚拟机仍可用。如果不可用，节点控制器会将该节点从它的节点列表删除</p>
<p>第三个是监控节点的健康状况。节点控制器负责：</p>
<ul>
<li>在节点不可达的情况下，在 Node 的 <code>.status</code> 中更新 <code>Ready</code> 状况。在这种情况下，节点控制器将 NodeReady 状况更新为 <code>Unknown</code></li>
<li>如果节点仍然无法访问：对于不可达节点上的所有 Pod 触发 <a href="https://kubernetes.io/zh-cn/docs/concepts/scheduling-eviction/api-eviction/">API 发起的逐出</a> 操作。默认情况下，节点控制器在将节点标记为 <code>Unknown</code> 后等待 5 分钟提交第一个驱逐请求</li>
</ul>
<p>默认情况下，节点控制器每 5 秒检查一次节点状态，可以使用 <code>kube-controller-manager</code> 组件上的 <code>--node-monitor-period</code> 参数来配置周期</p>
<h3 id="rate-limits-on-eviction">逐出速率限制</h3>
<p>大部分情况下，节点控制器把逐出速率限制在每秒 <code>--node-eviction-rate</code> 个（默认为 0.1）。这表示它每 10 秒钟内至多从一个节点驱逐 Pod</p>
<p>当一个可用区域（Availability Zone）中的节点变为不健康时，节点的驱逐行为将发生改变。节点控制器会同时检查可用区域中不健康（<code>Ready</code> 状况为 <code>Unknown</code> 或 <code>False</code>)的节点的百分比：</p>
<ul>
<li>如果不健康节点的比例超过 <code>--unhealthy-zone-threshold</code> （默认为 0.55），驱逐速率将会降低</li>
<li>如果集群较小（意即小于等于 <code>--large-cluster-size-threshold</code> 个节点 - 默认为 50），驱逐操作将会停止</li>
<li>否则驱逐速率将降为每秒 <code>--secondary-node-eviction-rate</code> 个（默认为 0.01）</li>
</ul>
<p>在逐个可用区域中实施这些策略的原因是，当一个可用区域可能从控制面脱离时其它可用区域可能仍然保持连接。如果你的集群没有跨越云服务商的多个可用区域，那（整个集群）就只有一个可用区域</p>
<p>跨多个可用区域部署你的节点的一个关键原因是当某个可用区域整体出现故障时，工作负载可以转移到健康的可用区域。因此，如果一个可用区域中的所有节点都不健康时，节点控制器会以正常的速率 <code>--node-eviction-rate</code> 进行驱逐操作。在所有的可用区域都不健康（也即集群中没有健康节点）的极端情况下，节点控制器将假设控制面与节点间的连接出了某些问题，它将停止所有驱逐动作（如果故障后部分节点重新连接，节点控制器会从剩下不健康或者不可达节点中驱逐 Pod）</p>
<p>节点控制器还负责驱逐运行在拥有 <code>NoExecute</code> 污点的节点上的 Pod，除非这些 Pod 能够容忍此污点。节点控制器还负责根据节点故障（例如节点不可访问或没有就绪）为其添加污点。这意味着调度器不会将 Pod 调度到不健康的节点上</p>
<h3 id="node-capacity">资源容量跟踪</h3>
<p>Node 对象会跟踪节点上资源的容量（例如可用内存和 CPU 数量）。通过 <a href="#self-registration-of-nodes">自注册</a> 机制生成的 Node 对象会在注册期间报告自身容量。如果你 <a href="#manual-node-administration">手动</a> 添加了 Node，你就需要在添加节点时手动设置节点容量。</p>
<p>Kubernetes 调度器保证节点上有足够的资源供其上的所有 Pod 使用。它会检查节点上所有容器的请求的总和不会超过节点的容量。总的请求包括由 kubelet 启动的所有容器，但不包括由容器运行时直接启动的容器，也不包括不受 <code>kubelet</code> 控制的其他进程</p>
<div class="admonition note">
<p class="admonition-title">说明：</p>
<p>如果要为非 Pod 进程显式保留资源。 请参考 <a href="https://kubernetes.io/zh-cn/docs/tasks/administer-cluster/reserve-compute-resources/#system-reserved">为系统守护进程预留资源</a></p>
</div>
<h2 id="node-topology">节点拓扑</h2>
<p><strong>特性状态：</strong> <mark class="critic">Kubernetes v1.18 [beta]</mark></p>
<p>如果启用了 <code>TopologyManager</code> <a href="https://kubernetes.io/zh-cn/docs/reference/command-line-tools-reference/feature-gates/">特性门控</a>，<code>kubelet</code> 可以在作出资源分配决策时使用拓扑提示。参考 <a href="https://kubernetes.io/zh-cn/docs/tasks/administer-cluster/topology-manager/">控制节点上拓扑管理策略</a> 了解详细信息</p>
<h2 id="graceful-node-shutdown">节点体面关闭</h2>
<p><strong>特性状态：</strong> <mark class="critic">Kubernetes v1.21 [beta]</mark></p>
<p>kubelet 会尝试检测节点系统关闭事件并终止在节点上运行的所有 Pod</p>
<p>在节点终止期间，kubelet 保证 Pod 遵从常规的 <a href="https://kubernetes.io/zh-cn/docs/concepts/workloads/pods/pod-lifecycle/#pod-termination">Pod 终止流程</a></p>
<p>节点体面关闭特性依赖于 systemd，因为它要利用 <a href="https://www.freedesktop.org/wiki/Software/systemd/inhibit/">systemd 抑制器锁</a> 机制，在给定的期限内延迟节点关闭</p>
<p>节点体面关闭特性受 <code>GracefulNodeShutdown</code> <a href="https://kubernetes.io/zh-cn/docs/reference/command-line-tools-reference/feature-gates/">特性门控</a> 控制，在 1.21 版本中是默认启用的</p>
<p>注意，默认情况下，下面描述的两个配置选项，<code>shutdownGracePeriod</code> 和 <code>shutdownGracePeriodCriticalPods</code> 都是被设置为 0 的，因此不会激活节点体面关闭功能。要激活此功能特性，这两个 kubelet 配置选项要适当配置，并设置为非零值</p>
<p>在体面关闭节点过程中，kubelet 分两个阶段来终止 Pod：</p>
<ol>
<li>终止在节点上运行的常规 Pod</li>
<li>终止在节点上运行的<a href="https://kubernetes.io/zh-cn/docs/tasks/administer-cluster/guaranteed-scheduling-critical-addon-pods/#marking-pod-as-critical">关键 Pod</a></li>
</ol>
<p>节点体面关闭的特性对应两个 <a href="https://kubernetes.io/zh-cn/docs/tasks/administer-cluster/kubelet-config-file/"><code>KubeletConfiguration</code></a> 选项：</p>
<ul>
<li><code>shutdownGracePeriod</code>：<ul>
<li>指定节点应延迟关闭的总持续时间。此时间是 Pod 体面终止的时间总和，不区分常规 Pod 还是<a href="https://kubernetes.io/zh-cn/docs/tasks/administer-cluster/guaranteed-scheduling-critical-addon-pods/#marking-pod-as-critical">关键 Pod</a></li>
</ul>
</li>
<li><code>shutdownGracePeriodCriticalPods</code>：<ul>
<li>在节点关闭期间指定用于终止<a href="https://kubernetes.io/zh-cn/docs/tasks/administer-cluster/guaranteed-scheduling-critical-addon-pods/#marking-pod-as-critical">关键 Pod</a> 的持续时间。该值应小于 <code>shutdownGracePeriod</code></li>
</ul>
</li>
</ul>
<p>例如，如果设置了 <code>shutdownGracePeriod=30s</code> 和 <code>shutdownGracePeriodCriticalPods=10s</code>，则 kubelet 将延迟 30 秒关闭节点。在关闭期间，将保留前 20（30 - 10）秒用于体面终止常规 Pod，而保留最后 10 秒用于终止 <a href="https://kubernetes.io/zh-cn/docs/tasks/administer-cluster/guaranteed-scheduling-critical-addon-pods/#marking-pod-as-critical">关键 Pod</a></p>
<div class="admonition note">
<p class="admonition-title">说明：</p>
<p>当 Pod 在正常节点关闭期间被驱逐时，它们会被标记为关闭。运行 <code>kubectl get pods</code> 时，被驱逐的 Pod 的状态显示为 <code>Terminated</code>。并且 <code>kubectl describe pod</code> 表示 Pod 因节点关闭而被驱逐：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>Reason:         Terminated
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>Message:        Pod was terminated in response to imminent node shutdown.
</code></pre></div>
</div>
<h2 id="non-graceful-node-shutdown">节点非体面关闭</h2>
<p><strong>特性状态：</strong> <mark class="critic">Kubernetes v1.24 [alpha]</mark></p>
<p>节点关闭的操作可能无法被 kubelet 的节点关闭管理器检测到，是因为该命令不会触发 kubelet 所使用的抑制锁定机制，或者是因为用户错误的原因，即 ShutdownGracePeriod 和 ShutdownGracePeriodCriticalPod 配置不正确。请参考以上 <a href="#graceful-node-shutdown">节点体面关闭</a> 部分了解更多详细信息</p>
<p>当某节点关闭但 kubelet 的节点关闭管理器未检测到这一事件时， 在那个已关闭节点上、属于 StatefulSet 的 Pod 将停滞于终止状态，并且不能移动到新的运行节点上。 这是因为已关闭节点上的 kubelet 已不存在，亦无法删除 Pod， 因此 StatefulSet 无法创建同名的新 Pod。 如果 Pod 使用了卷，则 VolumeAttachments 不会从原来的已关闭节点上删除， 因此这些 Pod 所使用的卷也无法挂接到新的运行节点上。 所以，那些以 StatefulSet 形式运行的应用无法正常工作。 如果原来的已关闭节点被恢复，kubelet 将删除 Pod，新的 Pod 将被在不同的运行节点上创建。 如果原来的已关闭节点没有被恢复，那些在已关闭节点上的 Pod 将永远滞留在终止状态</p>
<p>为了缓解上述情况，用户可以手动将具有 <code>NoExecute</code> 或 <code>NoSchedule</code> 效果的 <code>node.kubernetes.io/out-of-service</code> 污点添加到节点上，标记其无法提供服务。如果在 <code>kube-controller-manager</code> 上启用了 <code>NodeOutOfServiceVolumeDetach</code> <a href="https://kubernetes.io/zh-cn/docs/reference/command-line-tools-reference/feature-gates/">特性门控</a>，并且节点被通过污点标记为无法提供服务，如果节点 Pod 上没有设置对应的容忍度，那么这样的 Pod 将被强制删除，并且该在节点上被终止的 Pod 将立即进行卷分离操作。这样就允许那些在无法提供服务节点上的 Pod 能在其他节点上快速恢复</p>
<p>在非体面关闭期间，Pod 分两个阶段终止：</p>
<ol>
<li>强制删除没有匹配的 <code>out-of-service</code> 容忍度的 Pod</li>
<li>立即对此类 Pod 执行分离卷操作</li>
</ol>
<div class="admonition note">
<p class="admonition-title">说明：</p>
<ul>
<li>在添加 <code>node.kubernetes.io/out-of-service</code> 污点之前，应该验证节点已经处于关闭或断电状态（而不是在重新启动中）</li>
<li>将 Pod 移动到新节点后，用户需要手动移除停止服务的污点，并且用户要检查关闭节点是否已恢复，因为该用户是最初添加污点的用户</li>
</ul>
</div>
<h3 id="pod-priority-graceful-node-shutdown">基于 Pod 优先级的节点体面关闭</h3>
<p><strong>特性状态：</strong> <mark class="critic">Kubernetes v1.23 [alpha]</mark></p>
<p>为了在节点体面关闭期间提供更多的灵活性，尤其是处理关闭期间的 Pod 排序问题，节点体面关闭机制能够关注 Pod 的 PriorityClass 设置，前提是你已经在集群中启用了此功能特性。此功能特性允许集群管理员基于 Pod 的 <a href="https://kubernetes.io/zh-cn/docs/concepts/scheduling-eviction/pod-priority-preemption/#priorityclass">优先级类（Priority Class）</a> 显式地定义节点体面关闭期间 Pod 的处理顺序</p>
<p>前文所述的 <a href="#graceful-node-shutdown">节点体面关闭</a> 特性能够分两个阶段关闭 Pod，首先关闭的是非关键的 Pod，之后再处理关键 Pod。如果需要显式地以更细粒度定义关闭期间 Pod 的处理顺序，需要一定的灵活度，这时可以使用基于 Pod 优先级的体面关闭机制</p>
<p>当节点体面关闭能够处理 Pod 优先级时，节点体面关闭的处理可以分为多个阶段， 每个阶段关闭特定优先级类的 Pod。kubelet 可以被配置为按确切的阶段处理 Pod， 且每个阶段可以独立设置关闭时间</p>
<p>假设集群中存在以下自定义的 Pod <a href="https://kubernetes.io/zh-cn/docs/concepts/scheduling-eviction/pod-priority-preemption/#priorityclass">优先级类</a></p>
<table>
<thead>
<tr>
<th align="left">Pod 优先级类名称</th>
<th align="left">Pod 优先级类数值</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>custom-class-a</code></td>
<td align="left">100000</td>
</tr>
<tr>
<td align="left"><code>custom-class-b</code></td>
<td align="left">10000</td>
</tr>
<tr>
<td align="left"><code>custom-class-c</code></td>
<td align="left">1000</td>
</tr>
<tr>
<td align="left"><code>regular/unset</code></td>
<td align="left">0</td>
</tr>
</tbody>
</table>
<p>在 <a href="https://kubernetes.io/zh-cn/docs/reference/config-api/kubelet-config.v1beta1/#kubelet-config-k8s-io-v1beta1-KubeletConfiguration">kubelet 配置</a> 中，<code>shutdownGracePeriodByPodPriority</code> 可能看起来是这样：</p>
<table>
<thead>
<tr>
<th align="left">Pod 优先级类数值</th>
<th align="left">关闭期限</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">100000</td>
<td align="left">10 秒</td>
</tr>
<tr>
<td align="left">10000</td>
<td align="left">180 秒</td>
</tr>
<tr>
<td align="left">1000</td>
<td align="left">120 秒</td>
</tr>
<tr>
<td align="left">0</td>
<td align="left">60 秒</td>
</tr>
</tbody>
</table>
<p>对应的 kubelet 配置 YAML 将会是：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="nt">shutdownGracePeriodByPodPriority</span><span class="p">:</span><span class="w"></span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">priority</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">100000</span><span class="w"></span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="w">    </span><span class="nt">shutdownGracePeriodSeconds</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span><span class="w"></span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">priority</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10000</span><span class="w"></span>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="w">    </span><span class="nt">shutdownGracePeriodSeconds</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">180</span><span class="w"></span>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">priority</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1000</span><span class="w"></span>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="w">    </span><span class="nt">shutdownGracePeriodSeconds</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">120</span><span class="w"></span>
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">priority</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span><span class="w"></span>
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a><span class="w">    </span><span class="nt">shutdownGracePeriodSeconds</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">60</span><span class="w"></span>
</code></pre></div>
<p>上面的表格表明，所有 <code>priority</code> 值大于等于 100000 的 Pod 会得到 10 秒钟期限停止，所有 <code>priority</code> 值介于 10000 和 100000 之间的 Pod 会得到 180 秒钟期限停止，所有 <code>priority</code> 值介于 1000 和 10000 之间的 Pod 会得到 120 秒钟期限停止，所有其他 Pod 将获得 60 秒的时间停止</p>
<p>用户不需要为所有的优先级类都设置数值。例如，你也可以使用下面这种配置：</p>
<table>
<thead>
<tr>
<th align="left">Pod 优先级类数值</th>
<th align="left">关闭期限</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">100000</td>
<td align="left">300 秒</td>
</tr>
<tr>
<td align="left">1000</td>
<td align="left">120 秒</td>
</tr>
<tr>
<td align="left">0</td>
<td align="left">60 秒</td>
</tr>
</tbody>
</table>
<p>在上面这个场景中，优先级类为 <code>custom-class-b</code> 的 Pod 会与优先级类为 <code>custom-class-c</code> 的 Pod 在关闭时按相同期限处理</p>
<p>如果在特定的范围内不存在 Pod，则 kubelet 不会等待对应优先级范围的 Pod。kubelet 会直接跳到下一个优先级数值范围进行处理</p>
<p>如果此功能特性被启用，但没有提供配置数据，则不会出现排序操作</p>
<p>使用此功能特性需要启用 <code>GracefulNodeShutdownBasedOnPodPriority</code> <a href="https://kubernetes.io/zh-cn/docs/reference/command-line-tools-reference/feature-gates/">特性门控</a>，并将 <a href="https://kubernetes.io/zh-cn/docs/reference/config-api/kubelet-config.v1beta1/">kubelet 配置</a> 中的 <code>shutdownGracePeriodByPodPriority</code> 设置为期望的配置，其中包含 Pod 的优先级类数值以及对应的关闭期限</p>
<div class="admonition note">
<p class="admonition-title">说明：</p>
<p>在节点体面关闭期间考虑 Pod 优先级的能力是作为 Kubernetes v1.23 中的 Alpha 功能引入的。 在 Kubernetes 1.25 中该功能是 Beta 版，默认启用</p>
</div>
<p>kubelet 子系统中会生成 <code>graceful_shutdown_start_time_seconds</code> 和 <code>graceful_shutdown_end_time_seconds</code> 度量指标以便监视节点关闭行为</p>
<h2 id="swap-memory">交换内存管理</h2>
<p><strong>特性状态：</strong> <mark class="critic">Kubernetes v1.22 [alpha]</mark></p>
<p>在 Kubernetes 1.22 之前，节点不支持使用交换内存，并且默认情况下，如果在节点上检测到交换内存配置，kubelet 将无法启动。在 1.22 以后，可以逐个节点地启用交换内存支持</p>
<p>要在节点上启用交换内存，必须启用kubelet 的 <code>NodeSwap</code> 特性门控，同时使用 <code>--fail-swap-on</code> 命令行参数或者将 <code>failSwapOn</code> <a href="https://kubernetes.io/zh-cn/docs/reference/config-api/kubelet-config.v1beta1/#kubelet-config-k8s-io-v1beta1-KubeletConfiguration">配置</a> 设置为 false</p>
<p>用户还可以选择配置 <code>memorySwap.swapBehavior</code> 以指定节点使用交换内存的方式。例如:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="nt">memorySwap</span><span class="p">:</span><span class="w"></span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="w">  </span><span class="nt">swapBehavior</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">LimitedSwap</span><span class="w"></span>
</code></pre></div>
<p>可用的 <code>swapBehavior</code> 的配置选项有：</p>
<ul>
<li><code>LimitedSwap</code>：Kubernetes 工作负载的交换内存会受限制。不受 Kubernetes 管理的节点上的工作负载仍然可以交换</li>
<li><code>UnlimitedSwap</code>：Kubernetes 工作负载可以使用尽可能多的交换内存请求，一直到达到系统限制为止</li>
</ul>
<p>如果启用了特性门控但是未指定 <code>memorySwap</code> 的配置，默认情况下 kubelet 将使用 <code>LimitedSwap</code> 设置</p>
<p><code>LimitedSwap</code> 这种设置的行为取决于节点运行的是 v1 还是 v2 的控制组（也就是 <code>cgroups</code>）：</p>
<ul>
<li><strong>cgroupsv1:</strong> Kubernetes 工作负载可以使用内存和交换，上限为 Pod 的内存限制值（如果设置了的话）。</li>
<li><strong>cgroupsv2:</strong> Kubernetes 工作负载不能使用交换内存。</li>
</ul>
<p>如需更多信息以及协助测试和提供反馈，请参见 <a href="https://github.com/kubernetes/enhancements/issues/2400">KEP-2400</a> 及其<a href="https://github.com/kubernetes/enhancements/blob/master/keps/sig-node/2400-node-swap/README.md">设计提案</a></p>





                
              </article>
            </div>
          
          
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            回到页面顶部
          </a>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright © 2013 - 2022 ProjectTAM. All Rights Reserved.
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
      
      
    
    <a href="https://github.com/orgs/ProjectTAM" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    <a href="mailto:admin@projecttam.com" target="_blank" rel="noopener" title="" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M498.1 5.6c10.1 7 15.4 19.1 13.5 31.2l-64 416c-1.5 9.7-7.4 18.2-16 23s-18.9 5.4-28 1.6l-126.3-52.5-40.1 74.5c-5.2 9.7-16.3 14.6-27 11.9S192 499 192 488v-96c0-5.3 1.8-10.5 5.1-14.7l165.3-212.6c2.5-7.1-6.5-14.3-13-8.4l-179 161.9-32 28.9c-9.2 8.3-22.3 10.6-33.8 5.8l-85-35.4C8.4 312.8.8 302.2.1 290s5.5-23.7 16.1-29.8l448-256c10.7-6.1 23.9-5.5 34 1.4z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.tracking", "navigation.indexes", "navigation.top", "navigation.sections", "navigation.indexes", "toc.follow", "search.suggest", "search.highlight", "announce.dismiss"], "search": "../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.config.lang": "ja", "search.config.pipeline": "trimmer, stemmer", "search.config.separator": "[\\s\\-\uff0c\u3002]+", "search.placeholder": "\u641c\u7d22", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version.title": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.d6c3db9e.min.js"></script>
      
        <script src="../../assets/javascripts/shortcuts.js"></script>
      
        <script src="../../assets/stylesheets/extra.css"></script>
      
    
  </body>
</html>

<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="100 小时后请叫我 K8s 管理员系列课程">
      
      
        <meta name="author" content="ProjectTAM">
      
      
        <link rel="canonical" href="https://100h-k8s.projecttam.com/Chapter04/chapter04/">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-8.5.10">
    
    
      
        <title>使用 Minikube 搭建单节点集群 - 100H-K8s</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.472b142f.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.08040f6c.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Sans+SC:300,300i,400,400i,700,700i%7CAzeret+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Noto Sans SC";--md-code-font:"Azeret Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="green">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#minikube" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
        <aside class="md-banner">
          <div class="md-banner__inner md-grid md-typeset">
            
              <button class="md-banner__button md-icon" aria-label="不再显示此消息">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
              </button>
            
            
你正在查看本文档的非正式版本，其内容可能不经通知而变化。查阅 <a href="/about/changelog">更新日志</a> 了解当前版本，查阅 <a href="/about/license">许可信息</a> 了解项目开源协议

          </div>
          
            <script>var content,el=document.querySelector("[data-md-component=announce]");el&&(content=el.querySelector(".md-typeset"),__md_hash(content.innerHTML)===__md_get("__announce")&&(el.hidden=!0))</script>
          
        </aside>
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="https://100h-k8s.projecttam.com" title="100H-K8s" class="md-header__button md-logo" aria-label="100H-K8s" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 9h2.31l.32-3h2l-.32 3h2l.32-3h2l-.32 3H15v2h-1.9l-.2 2H15v2h-2.31l-.32 3h-2l.32-3h-2l-.32 3h-2l.32-3H5v-2h1.9l.2-2H5V9m4.1 2-.2 2h2l.2-2M19 6h-2v8h2m0 2h-2v2h2Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            100H-K8s
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              使用 Minikube 搭建单节点集群
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="green"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
          
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="light-green"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/ProjectTAM/100H-K8s" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    ProjectTAM/100H-K8s
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://100h-k8s.projecttam.com" title="100H-K8s" class="md-nav__button md-logo" aria-label="100H-K8s" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 9h2.31l.32-3h2l-.32 3h2l.32-3h2l-.32 3H15v2h-1.9l-.2 2H15v2h-2.31l-.32 3h-2l.32-3h-2l-.32 3h-2l.32-3H5v-2h1.9l.2-2H5V9m4.1 2-.2 2h2l.2-2M19 6h-2v8h2m0 2h-2v2h2Z"/></svg>

    </a>
    100H-K8s
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/ProjectTAM/100H-K8s" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    ProjectTAM/100H-K8s
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
    
  
  
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" type="checkbox" id="__nav_1" checked>
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../..">目录</a>
          
            <label for="__nav_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="目录" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          目录
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Chapter01/chapter01/" class="md-nav__link">
        Kubernetes 概述
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Chapter02/chapter02/" class="md-nav__link">
        Kubernetes 架构
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Chapter03/chapter03/" class="md-nav__link">
        Kubernetes 组件
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          使用 Minikube 搭建单节点集群
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        使用 Minikube 搭建单节点集群
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    前言
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    实验环境
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    环境初始化
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    开始部署
  </a>
  
    <nav class="md-nav" aria-label="开始部署">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    创建普通用户
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minikube_1" class="md-nav__link">
    安装 Minikube 程序包
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minikube_2" class="md-nav__link">
    Minikube 基本配置
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-" class="md-nav__link">
    可选 - 配置网络代理
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minikube_3" class="md-nav__link">
    Minikube 启动
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minikube-addons" class="md-nav__link">
    Minikube Addons
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kubectl" class="md-nav__link">
    安装 kubectl 工具
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    开始使用
  </a>
  
    <nav class="md-nav" aria-label="开始使用">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    状态检查
  </a>
  
    <nav class="md-nav" aria-label="状态检查">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    查看集群状态
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodes" class="md-nav__link">
    查看 Nodes 状态
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pods" class="md-nav__link">
    查看 Pods 状态
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pods_1" class="md-nav__link">
    检查 Pods 详细信息
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json-pods" class="md-nav__link">
    以 JSON 格式输出 Pods 信息
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#services" class="md-nav__link">
    列出所有的 Services
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    创建一个简单的服务
  </a>
  
    <nav class="md-nav" aria-label="创建一个简单的服务">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    创建资源对象
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    对外开启服务
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    配置负载均衡
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    结语
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Chapter05/chapter05/" class="md-nav__link">
        Kubernetes 容器
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Chapter06/chapter06/" class="md-nav__link">
        Kubernetes 工作负载
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Chapter07/chapter07/" class="md-nav__link">
        Kubernetes 网络模型
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Chapter08/chapter08/" class="md-nav__link">
        Kubernetes 服务
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Chapter09/chapter09/" class="md-nav__link">
        Kubernetes 负载均衡
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Chapter10/chapter10/" class="md-nav__link">
        Kubernetes 卷管理
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Chapter11/chapter11/" class="md-nav__link">
        Kubernetes ConfigMap
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Chapter12/chapter12/" class="md-nav__link">
        Kubernetes Secret
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Chapter13/chapter13/" class="md-nav__link">
        Kubernetes 资源管理
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Chapter14/chapter14/" class="md-nav__link">
        Kubernetes 调度
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Chapter15/chapter15/" class="md-nav__link">
        Kubernetes 实践手册
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2">
          关于
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="关于" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          关于
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../about/contact/" class="md-nav__link">
        联系我们
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../about/license/" class="md-nav__link">
        许可协议
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../about/changelog/" class="md-nav__link">
        更新日志
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    前言
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    实验环境
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    环境初始化
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    开始部署
  </a>
  
    <nav class="md-nav" aria-label="开始部署">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    创建普通用户
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minikube_1" class="md-nav__link">
    安装 Minikube 程序包
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minikube_2" class="md-nav__link">
    Minikube 基本配置
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-" class="md-nav__link">
    可选 - 配置网络代理
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minikube_3" class="md-nav__link">
    Minikube 启动
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minikube-addons" class="md-nav__link">
    Minikube Addons
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kubectl" class="md-nav__link">
    安装 kubectl 工具
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    开始使用
  </a>
  
    <nav class="md-nav" aria-label="开始使用">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    状态检查
  </a>
  
    <nav class="md-nav" aria-label="状态检查">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    查看集群状态
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodes" class="md-nav__link">
    查看 Nodes 状态
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pods" class="md-nav__link">
    查看 Pods 状态
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pods_1" class="md-nav__link">
    检查 Pods 详细信息
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json-pods" class="md-nav__link">
    以 JSON 格式输出 Pods 信息
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#services" class="md-nav__link">
    列出所有的 Services
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    创建一个简单的服务
  </a>
  
    <nav class="md-nav" aria-label="创建一个简单的服务">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    创建资源对象
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    对外开启服务
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    配置负载均衡
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    结语
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="minikube">使用 Minikube 搭建单节点集群</h1>
<h2 id="_1">前言</h2>
<p><a href="https://minikube.sigs.k8s.io/docs/start/">Minikube</a> 是 Kubernetes 官方社区推荐使用的单节点学习环境工具，也是我们本课程之后需要使用的学习环境，由于单节点的特点，并不能完全展示多集群管理的特性，对于这部分缺失的内容将进行特别标注</p>
<p>Minikube 可以支持 Kubernetes 的许多特性，以下为正在支持的特性</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="c1"># supported for standard Kubernetes features</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>LoadBalancer - using minikube tunnel
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>Multi-cluster - using minikube start -p &lt;name&gt;
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>NodePorts - using minikube service
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>Persistent Volumes
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>Ingress
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>Dashboard - minikube dashboard
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>Container runtimes - minikube start --container-runtime
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>Configure apiserver and kubelet options via command-line flags
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>Supports common CI environments
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="c1"># Developer-friendly features</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>Addons - a marketplace <span class="k">for</span> developers to share configurations <span class="k">for</span> running services on minikube
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>NVIDIA GPU support - <span class="k">for</span> machine learning
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>Filesystem mounts
</code></pre></div>
<h2 id="_2">实验环境</h2>
<p>K8s 原生镜像需要从 <a href="https://k8s.gcr.io">k8s.gcr.io</a> 上拉取，在网络环境并不太好的地区可能会存在多次拉取失败的情况，为了能够在接下来的学习中不被网络问题打扰，推荐购买香港地区的云服务器进行搭建工作。这里选择腾讯云提供的云服务器，详细配置如下：</p>
<ul>
<li>Region: ap-hongkong</li>
<li>InstanceType: S5.LARGE8</li>
<li>CPUS: 4</li>
<li>MEMS: 8</li>
<li>DISK: 50GB</li>
<li>SYSM: TencentOS Server 2.4</li>
</ul>
<h2 id="_3">环境初始化</h2>
<p>TencentOS 在设计的时候已经对容器进行了内核优化，基本不用再进行特别改造，可以查阅 <a href="https://cloud.tencent.com/document/product/1397/72787">TencentOS 产品特性</a> 用于了解进行了哪些特别优化</p>
<p>并且 TencentOS 默认安装了 Docker，只需要在使用前进行一次更新并启用即可，如果是在其他环境中则需要重新安装配置 Docker 环境，可以参考 <a href="https://docs.docker.com/engine/install/">Install Docker Engine</a> 页面了解如何进行安装配置</p>
<h2 id="_4">开始部署</h2>
<h3 id="_5">创建普通用户</h3>
<p>Minikube 推荐使用普通用户进行工作，这里创建一个普通用户 <code>minikube</code> 用于运行主程序</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="c1"># 创建 minikube 用户</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>useradd -m minikube
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="c1"># 添加 minikube 到 docker 用户组</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>usermod -aG docker minikube
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="c1"># 可选：为 minikube 用户设置密码</span>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>passwd minikube
</code></pre></div>
<p>创建完成后使用 <code>su - minikube</code> 切换到 minikube 用户，并执行 <code>docker info</code> 用于验证是否可以使用 Docker</p>
<h3 id="minikube_1">安装 Minikube 程序包</h3>
<p>TencentOS 2.4 是基于 CentOS 7 进行的定制，所以这里下载安装 <code>RPM package</code></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="c1"># 下载安装包</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>curl -LO https://storage.googleapis.com/minikube/releases/latest/minikube-latest.x86_64.rpm
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="c1"># 安装 Minikube。注意在刚刚创建用户的时候并没有配置 sudoers，可以在 root 用户中进行安装</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>rpm -Uvh minikube-latest.x86_64.rpm
</code></pre></div>
<p>输入 <code>minikube status</code> 命令验证是否正确安装</p>
<h3 id="minikube_2">Minikube 基本配置</h3>
<p>Minikube 在安装后如果直接 <code>start</code>，会默认最大程度的使用系统资源，不管是开发测试环境还是正式生产环境这样都是高风险的操作，所以需要在正式运行前进行特别配置，以下为默认可配置参数</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="c1"># 获取默认配置参数</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>minikube config
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="c1"># 详细配置参数列表</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a> * driver
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a> * vm-driver
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a> * container-runtime
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a> * feature-gates
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a> * v
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a> * cpus
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a> * disk-size
<a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a> * host-only-cidr
<a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a> * memory
<a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a> * log_dir
<a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a> * kubernetes-version
<a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a> * iso-url
<a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a> * WantUpdateNotification
<a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a> * WantBetaUpdateNotification
<a id="__codelineno-3-19" name="__codelineno-3-19" href="#__codelineno-3-19"></a> * ReminderWaitPeriodInHours
<a id="__codelineno-3-20" name="__codelineno-3-20" href="#__codelineno-3-20"></a> * WantNoneDriverWarning
<a id="__codelineno-3-21" name="__codelineno-3-21" href="#__codelineno-3-21"></a> * WantVirtualBoxDriverWarning
<a id="__codelineno-3-22" name="__codelineno-3-22" href="#__codelineno-3-22"></a> * profile
<a id="__codelineno-3-23" name="__codelineno-3-23" href="#__codelineno-3-23"></a> * bootstrapper
<a id="__codelineno-3-24" name="__codelineno-3-24" href="#__codelineno-3-24"></a> * insecure-registry
<a id="__codelineno-3-25" name="__codelineno-3-25" href="#__codelineno-3-25"></a> * hyperv-virtual-switch
<a id="__codelineno-3-26" name="__codelineno-3-26" href="#__codelineno-3-26"></a> * disable-driver-mounts
<a id="__codelineno-3-27" name="__codelineno-3-27" href="#__codelineno-3-27"></a> * cache
<a id="__codelineno-3-28" name="__codelineno-3-28" href="#__codelineno-3-28"></a> * EmbedCerts
<a id="__codelineno-3-29" name="__codelineno-3-29" href="#__codelineno-3-29"></a> * native-ssh
<a id="__codelineno-3-30" name="__codelineno-3-30" href="#__codelineno-3-30"></a> * rootless
<a id="__codelineno-3-31" name="__codelineno-3-31" href="#__codelineno-3-31"></a> * MaxAuditEntries
</code></pre></div>
<p>根据我们购买的云服务器配置，这里推荐使用以下配置</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="c1"># 配置文件地址：/home/minikube/.minikube/config/config.json</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>- container-runtime: docker
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>- cpus: <span class="m">2</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>- disk-size: 20GB
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>- driver: docker
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>- memory: 4096MB
</code></pre></div>
<p>除此之外，我们推荐同时禁用 Emoji，在 CLI 模式下看 Emoji 确实有点怪怪的~</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="c1"># 配置项写入 ~/.bashrc</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="nb">echo</span> <span class="s2">&quot;export MINIKUBE_IN_STYLE=false&quot;</span> &gt;&gt; ~/.bashrc
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="c1"># 激活配置</span>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="nb">source</span> ~/.bashrc
</code></pre></div>
<h3 id="-">可选 - 配置网络代理</h3>
<p>在我们即将搭建的学习环境中其实并不是很需要进行这一项配置，但对于生产环境或者有代理配置的环境，进行网络代理配置是非常必要的，以下是推荐的配置</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="c1"># 网络代理配置参考，根据实际情况进行配置</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="nb">echo</span> <span class="s2">&quot;export HTTP_PROXY=http://&lt;proxy hostname:port&gt;&quot;</span> &gt;&gt; ~/.bashrc
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="nb">echo</span> <span class="s2">&quot;export HTTPS_PROXY=https://&lt;proxy hostname:port&gt;&quot;</span> &gt;&gt; ~/.bashrc
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="c1"># 不使用代理的网段</span>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="nb">echo</span> <span class="s2">&quot;export NO_PROXY=localhost,127.0.0.1,10.96.0.0/12,192.168.59.0/24,192.168.49.0/24,192.168.39.0/24&quot;</span> &gt;&gt; ~/.bashrc
</code></pre></div>
<h3 id="minikube_3">Minikube 启动</h3>
<p>在以上配置参数完成后，即可正式启动 Minikube，启动 Minikube 的方式也非常简单，仅需要执行 <code>minikube start</code> 命令即可，以下为初次启动时的状态参考</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="c1"># Minikube 初次启动状态</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>* minikube v1.27.1 on Tencentos  <span class="o">(</span>amd64<span class="o">)</span>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>  - <span class="nv">MINIKUBE_IN_STYLE</span><span class="o">=</span><span class="nb">false</span>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>* Using the docker driver based on user configuration
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>* Using Docker driver with root privileges
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>* Starting control plane node minikube <span class="k">in</span> cluster minikube
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a>* Pulling base image ...
<a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a>* Downloading Kubernetes v1.25.2 preload ...
<a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a>    &gt; preloaded-images-k8s-v18-v1...:  <span class="m">385</span>.41 MiB / <span class="m">385</span>.41 MiB  <span class="m">100</span>.00% <span class="m">6</span>.52 Mi
<a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a>    &gt; gcr.io/k8s-minikube/kicbase:  <span class="m">387</span>.11 MiB / <span class="m">387</span>.11 MiB  <span class="m">100</span>.00% <span class="m">5</span>.74 MiB p
<a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a>    &gt; gcr.io/k8s-minikube/kicbase:  <span class="m">0</span> B <span class="o">[</span>________________________<span class="o">]</span> ?% ? p/s 36s
<a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a>* Creating docker container <span class="o">(</span><span class="nv">CPUs</span><span class="o">=</span><span class="m">2</span>, <span class="nv">Memory</span><span class="o">=</span>4096MB<span class="o">)</span> ...
<a id="__codelineno-7-13" name="__codelineno-7-13" href="#__codelineno-7-13"></a>* Preparing Kubernetes v1.25.2 on Docker <span class="m">20</span>.10.18 ...
<a id="__codelineno-7-14" name="__codelineno-7-14" href="#__codelineno-7-14"></a>  - Generating certificates and keys ...
<a id="__codelineno-7-15" name="__codelineno-7-15" href="#__codelineno-7-15"></a>  - Booting up control plane ...
<a id="__codelineno-7-16" name="__codelineno-7-16" href="#__codelineno-7-16"></a>  - Configuring RBAC rules ...
<a id="__codelineno-7-17" name="__codelineno-7-17" href="#__codelineno-7-17"></a>* Verifying Kubernetes components...
<a id="__codelineno-7-18" name="__codelineno-7-18" href="#__codelineno-7-18"></a>  - Using image gcr.io/k8s-minikube/storage-provisioner:v5
<a id="__codelineno-7-19" name="__codelineno-7-19" href="#__codelineno-7-19"></a>* Enabled addons: storage-provisioner, default-storageclass
<a id="__codelineno-7-20" name="__codelineno-7-20" href="#__codelineno-7-20"></a>* kubectl not found. If you need it, try: <span class="s1">&#39;minikube kubectl -- get pods -A&#39;</span>
<a id="__codelineno-7-21" name="__codelineno-7-21" href="#__codelineno-7-21"></a>* Done! kubectl is now configured to use <span class="s2">&quot;minikube&quot;</span> cluster and <span class="s2">&quot;default&quot;</span> namespace by default
</code></pre></div>
<h3 id="minikube-addons">Minikube Addons</h3>
<p>为了继续后面的学习，这里推荐同时启用插件功能，推荐启用 <code>dashboard</code> <code>default-storageclass</code> <code>ingress</code> <code>ingress-dns</code> <code>storage-provisioner</code></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="c1"># 获取插件清单</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>minikube addons list
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="c1"># 完整的插件列表</span>
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="p">|</span>-----------------------------<span class="p">|</span>----------<span class="p">|</span>--------------<span class="p">|</span>--------------------------------<span class="p">|</span>
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="p">|</span>         ADDON NAME          <span class="p">|</span> PROFILE  <span class="p">|</span>    STATUS    <span class="p">|</span>           MAINTAINER           <span class="p">|</span>
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a><span class="p">|</span>-----------------------------<span class="p">|</span>----------<span class="p">|</span>--------------<span class="p">|</span>--------------------------------<span class="p">|</span>
<a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a><span class="p">|</span> ambassador                  <span class="p">|</span> minikube <span class="p">|</span> disabled     <span class="p">|</span> 3rd party <span class="o">(</span>Ambassador<span class="o">)</span>         <span class="p">|</span>
<a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a><span class="p">|</span> auto-pause                  <span class="p">|</span> minikube <span class="p">|</span> disabled     <span class="p">|</span> Google                         <span class="p">|</span>
<a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a><span class="p">|</span> csi-hostpath-driver         <span class="p">|</span> minikube <span class="p">|</span> disabled     <span class="p">|</span> Kubernetes                     <span class="p">|</span>
<a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a><span class="p">|</span> dashboard                   <span class="p">|</span> minikube <span class="p">|</span> enabled ✅   <span class="p">|</span> Kubernetes                     <span class="p">|</span>
<a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a><span class="p">|</span> default-storageclass        <span class="p">|</span> minikube <span class="p">|</span> enabled ✅   <span class="p">|</span> Kubernetes                     <span class="p">|</span>
<a id="__codelineno-8-13" name="__codelineno-8-13" href="#__codelineno-8-13"></a><span class="p">|</span> efk                         <span class="p">|</span> minikube <span class="p">|</span> disabled     <span class="p">|</span> 3rd party <span class="o">(</span>Elastic<span class="o">)</span>            <span class="p">|</span>
<a id="__codelineno-8-14" name="__codelineno-8-14" href="#__codelineno-8-14"></a><span class="p">|</span> freshpod                    <span class="p">|</span> minikube <span class="p">|</span> disabled     <span class="p">|</span> Google                         <span class="p">|</span>
<a id="__codelineno-8-15" name="__codelineno-8-15" href="#__codelineno-8-15"></a><span class="p">|</span> gcp-auth                    <span class="p">|</span> minikube <span class="p">|</span> disabled     <span class="p">|</span> Google                         <span class="p">|</span>
<a id="__codelineno-8-16" name="__codelineno-8-16" href="#__codelineno-8-16"></a><span class="p">|</span> gvisor                      <span class="p">|</span> minikube <span class="p">|</span> disabled     <span class="p">|</span> Google                         <span class="p">|</span>
<a id="__codelineno-8-17" name="__codelineno-8-17" href="#__codelineno-8-17"></a><span class="p">|</span> headlamp                    <span class="p">|</span> minikube <span class="p">|</span> disabled     <span class="p">|</span> 3rd party <span class="o">(</span>kinvolk.io<span class="o">)</span>         <span class="p">|</span>
<a id="__codelineno-8-18" name="__codelineno-8-18" href="#__codelineno-8-18"></a><span class="p">|</span> helm-tiller                 <span class="p">|</span> minikube <span class="p">|</span> disabled     <span class="p">|</span> 3rd party <span class="o">(</span>Helm<span class="o">)</span>               <span class="p">|</span>
<a id="__codelineno-8-19" name="__codelineno-8-19" href="#__codelineno-8-19"></a><span class="p">|</span> inaccel                     <span class="p">|</span> minikube <span class="p">|</span> disabled     <span class="p">|</span> 3rd party <span class="o">(</span>InAccel             <span class="p">|</span>
<a id="__codelineno-8-20" name="__codelineno-8-20" href="#__codelineno-8-20"></a><span class="p">|</span>                             <span class="p">|</span>          <span class="p">|</span>              <span class="p">|</span> <span class="o">[</span>info@inaccel.com<span class="o">])</span>            <span class="p">|</span>
<a id="__codelineno-8-21" name="__codelineno-8-21" href="#__codelineno-8-21"></a><span class="p">|</span> ingress                     <span class="p">|</span> minikube <span class="p">|</span> enabled ✅   <span class="p">|</span> Kubernetes                     <span class="p">|</span>
<a id="__codelineno-8-22" name="__codelineno-8-22" href="#__codelineno-8-22"></a><span class="p">|</span> ingress-dns                 <span class="p">|</span> minikube <span class="p">|</span> enabled ✅   <span class="p">|</span> Google                         <span class="p">|</span>
<a id="__codelineno-8-23" name="__codelineno-8-23" href="#__codelineno-8-23"></a><span class="p">|</span> istio                       <span class="p">|</span> minikube <span class="p">|</span> disabled     <span class="p">|</span> 3rd party <span class="o">(</span>Istio<span class="o">)</span>              <span class="p">|</span>
<a id="__codelineno-8-24" name="__codelineno-8-24" href="#__codelineno-8-24"></a><span class="p">|</span> istio-provisioner           <span class="p">|</span> minikube <span class="p">|</span> disabled     <span class="p">|</span> 3rd party <span class="o">(</span>Istio<span class="o">)</span>              <span class="p">|</span>
<a id="__codelineno-8-25" name="__codelineno-8-25" href="#__codelineno-8-25"></a><span class="p">|</span> kong                        <span class="p">|</span> minikube <span class="p">|</span> disabled     <span class="p">|</span> 3rd party <span class="o">(</span>Kong HQ<span class="o">)</span>            <span class="p">|</span>
<a id="__codelineno-8-26" name="__codelineno-8-26" href="#__codelineno-8-26"></a><span class="p">|</span> kubevirt                    <span class="p">|</span> minikube <span class="p">|</span> disabled     <span class="p">|</span> 3rd party <span class="o">(</span>KubeVirt<span class="o">)</span>           <span class="p">|</span>
<a id="__codelineno-8-27" name="__codelineno-8-27" href="#__codelineno-8-27"></a><span class="p">|</span> logviewer                   <span class="p">|</span> minikube <span class="p">|</span> disabled     <span class="p">|</span> 3rd party <span class="o">(</span>unknown<span class="o">)</span>            <span class="p">|</span>
<a id="__codelineno-8-28" name="__codelineno-8-28" href="#__codelineno-8-28"></a><span class="p">|</span> metallb                     <span class="p">|</span> minikube <span class="p">|</span> disabled     <span class="p">|</span> 3rd party <span class="o">(</span>MetalLB<span class="o">)</span>            <span class="p">|</span>
<a id="__codelineno-8-29" name="__codelineno-8-29" href="#__codelineno-8-29"></a><span class="p">|</span> metrics-server              <span class="p">|</span> minikube <span class="p">|</span> disabled     <span class="p">|</span> Kubernetes                     <span class="p">|</span>
<a id="__codelineno-8-30" name="__codelineno-8-30" href="#__codelineno-8-30"></a><span class="p">|</span> nvidia-driver-installer     <span class="p">|</span> minikube <span class="p">|</span> disabled     <span class="p">|</span> Google                         <span class="p">|</span>
<a id="__codelineno-8-31" name="__codelineno-8-31" href="#__codelineno-8-31"></a><span class="p">|</span> nvidia-gpu-device-plugin    <span class="p">|</span> minikube <span class="p">|</span> disabled     <span class="p">|</span> 3rd party <span class="o">(</span>Nvidia<span class="o">)</span>             <span class="p">|</span>
<a id="__codelineno-8-32" name="__codelineno-8-32" href="#__codelineno-8-32"></a><span class="p">|</span> olm                         <span class="p">|</span> minikube <span class="p">|</span> disabled     <span class="p">|</span> 3rd party <span class="o">(</span>Operator Framework<span class="o">)</span> <span class="p">|</span>
<a id="__codelineno-8-33" name="__codelineno-8-33" href="#__codelineno-8-33"></a><span class="p">|</span> pod-security-policy         <span class="p">|</span> minikube <span class="p">|</span> disabled     <span class="p">|</span> 3rd party <span class="o">(</span>unknown<span class="o">)</span>            <span class="p">|</span>
<a id="__codelineno-8-34" name="__codelineno-8-34" href="#__codelineno-8-34"></a><span class="p">|</span> portainer                   <span class="p">|</span> minikube <span class="p">|</span> disabled     <span class="p">|</span> 3rd party <span class="o">(</span>Portainer.io<span class="o">)</span>       <span class="p">|</span>
<a id="__codelineno-8-35" name="__codelineno-8-35" href="#__codelineno-8-35"></a><span class="p">|</span> registry                    <span class="p">|</span> minikube <span class="p">|</span> disabled     <span class="p">|</span> Google                         <span class="p">|</span>
<a id="__codelineno-8-36" name="__codelineno-8-36" href="#__codelineno-8-36"></a><span class="p">|</span> registry-aliases            <span class="p">|</span> minikube <span class="p">|</span> disabled     <span class="p">|</span> 3rd party <span class="o">(</span>unknown<span class="o">)</span>            <span class="p">|</span>
<a id="__codelineno-8-37" name="__codelineno-8-37" href="#__codelineno-8-37"></a><span class="p">|</span> registry-creds              <span class="p">|</span> minikube <span class="p">|</span> disabled     <span class="p">|</span> 3rd party <span class="o">(</span>UPMC Enterprises<span class="o">)</span>   <span class="p">|</span>
<a id="__codelineno-8-38" name="__codelineno-8-38" href="#__codelineno-8-38"></a><span class="p">|</span> storage-provisioner         <span class="p">|</span> minikube <span class="p">|</span> enabled ✅   <span class="p">|</span> Google                         <span class="p">|</span>
<a id="__codelineno-8-39" name="__codelineno-8-39" href="#__codelineno-8-39"></a><span class="p">|</span> storage-provisioner-gluster <span class="p">|</span> minikube <span class="p">|</span> disabled     <span class="p">|</span> 3rd party <span class="o">(</span>Gluster<span class="o">)</span>            <span class="p">|</span>
<a id="__codelineno-8-40" name="__codelineno-8-40" href="#__codelineno-8-40"></a><span class="p">|</span> volumesnapshots             <span class="p">|</span> minikube <span class="p">|</span> disabled     <span class="p">|</span> Kubernetes                     <span class="p">|</span>
<a id="__codelineno-8-41" name="__codelineno-8-41" href="#__codelineno-8-41"></a><span class="p">|</span>-----------------------------<span class="p">|</span>----------<span class="p">|</span>--------------<span class="p">|</span>--------------------------------<span class="p">|</span>
</code></pre></div>
<h3 id="kubectl">安装 kubectl 工具</h3>
<p>Minikube 默认提供了 kubectl 工具，使用方法是 <code>minikube kubectl</code>，对于已经形成肌肉记忆的操作不太友好，所以这里安装 Kubernetes 自带的 kubectl 工具进行集群管理</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="c1"># 下载 kubectl 工具</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>curl -LO <span class="s2">&quot;https://dl.k8s.io/release/</span><span class="k">$(</span>curl -L -s https://dl.k8s.io/release/stable.txt<span class="k">)</span><span class="s2">/bin/linux/amd64/kubectl&quot;</span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="c1"># 移动至 /usr/local/bin/ 目录</span>
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a>mv ~/kubectl /usr/local/bin/
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a>
<a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="c1"># 授权可执行权限。注意我们的 minikube 用户并没有配置 sudoers，需要在 root 用户下操作</span>
<a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a>chmod +x /usr/local/bin/kubectl
</code></pre></div>
<p>输入命令 <code>kubectl version</code> 验证可用性，正常情况下会返回以下内容</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="c1"># kubectl version 命令结果</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>Client Version: version.Info<span class="o">{</span>Major:<span class="s2">&quot;1&quot;</span>, Minor:<span class="s2">&quot;25&quot;</span>, GitVersion:<span class="s2">&quot;v1.25.3&quot;</span>, GitCommit:<span class="s2">&quot;434bfd82814af038ad94d62ebe59b133fcb50506&quot;</span>, GitTreeState:<span class="s2">&quot;clean&quot;</span>, BuildDate:<span class="s2">&quot;2022-10-12T10:57:26Z&quot;</span>, GoVersion:<span class="s2">&quot;go1.19.2&quot;</span>, Compiler:<span class="s2">&quot;gc&quot;</span>, Platform:<span class="s2">&quot;linux/amd64&quot;</span><span class="o">}</span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>Kustomize Version: v4.5.7
</code></pre></div>
<h2 id="_6">开始使用</h2>
<p>到此为止我们已经使用 Minikube 完整搭建了单节点集群，下面简单介绍一些基本操作</p>
<h3 id="_7">状态检查</h3>
<h4 id="_8">查看集群状态</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="c1"># 查看集群状态</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>kubectl cluster-info
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a>Kubernetes control plane is running at https://192.168.49.2:8443
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a>CoreDNS is running at https://192.168.49.2:8443/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a>
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a>To further debug and diagnose cluster problems, use <span class="s1">&#39;kubectl cluster-info dump&#39;</span>.
</code></pre></div>
<h4 id="nodes">查看 Nodes 状态</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="c1"># 查看 nodes 状态，指定打印所有 namespace 和所有信息</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>kubectl get nodes -A -o wide
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>NAME       STATUS   ROLES           AGE     VERSION   INTERNAL-IP    EXTERNAL-IP   OS-IMAGE             KERNEL-VERSION     CONTAINER-RUNTIME
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a>minikube   Ready    control-plane   5d20h   v1.25.2   <span class="m">192</span>.168.49.2   &lt;none&gt;        Ubuntu <span class="m">20</span>.04.5 LTS   <span class="m">4</span>.14.105-19-0024   docker://20.10.18
</code></pre></div>
<h4 id="pods">查看 Pods 状态</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="c1"># 查看 pods 状态，指定打印所有 namespace 和所有信息</span>
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>kubectl get pods -A -o wide
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a>NAMESPACE              NAME                                        READY   STATUS      RESTARTS        AGE     IP             NODE       NOMINATED NODE   READINESS GATES
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a>ingress-nginx          ingress-nginx-admission-create-6f969        <span class="m">0</span>/1     Completed   <span class="m">0</span>               5d20h   <span class="m">172</span>.17.0.3     minikube   &lt;none&gt;           &lt;none&gt;
<a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a>ingress-nginx          ingress-nginx-admission-patch-qbdl6         <span class="m">0</span>/1     Completed   <span class="m">0</span>               5d20h   <span class="m">172</span>.17.0.4     minikube   &lt;none&gt;           &lt;none&gt;
<a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a>ingress-nginx          ingress-nginx-controller-5959f988fd-2dt6b   <span class="m">1</span>/1     Running     <span class="m">1</span> <span class="o">(</span>5d20h ago<span class="o">)</span>   5d20h   <span class="m">172</span>.17.0.5     minikube   &lt;none&gt;           &lt;none&gt;
<a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a>kube-system            coredns-565d847f94-lr6hk                    <span class="m">1</span>/1     Running     <span class="m">1</span> <span class="o">(</span>5d20h ago<span class="o">)</span>   5d20h   <span class="m">172</span>.17.0.2     minikube   &lt;none&gt;           &lt;none&gt;
<a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a>kube-system            etcd-minikube                               <span class="m">1</span>/1     Running     <span class="m">1</span> <span class="o">(</span>5d20h ago<span class="o">)</span>   5d20h   <span class="m">192</span>.168.49.2   minikube   &lt;none&gt;           &lt;none&gt;
<a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a>kube-system            kube-apiserver-minikube                     <span class="m">1</span>/1     Running     <span class="m">1</span> <span class="o">(</span>5d20h ago<span class="o">)</span>   5d20h   <span class="m">192</span>.168.49.2   minikube   &lt;none&gt;           &lt;none&gt;
<a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a>kube-system            kube-controller-manager-minikube            <span class="m">1</span>/1     Running     <span class="m">1</span> <span class="o">(</span>5d20h ago<span class="o">)</span>   5d20h   <span class="m">192</span>.168.49.2   minikube   &lt;none&gt;           &lt;none&gt;
<a id="__codelineno-13-12" name="__codelineno-13-12" href="#__codelineno-13-12"></a>kube-system            kube-ingress-dns-minikube                   <span class="m">1</span>/1     Running     <span class="m">1</span> <span class="o">(</span>5d20h ago<span class="o">)</span>   5d20h   <span class="m">192</span>.168.49.2   minikube   &lt;none&gt;           &lt;none&gt;
<a id="__codelineno-13-13" name="__codelineno-13-13" href="#__codelineno-13-13"></a>kube-system            kube-proxy-d8zpf                            <span class="m">1</span>/1     Running     <span class="m">1</span> <span class="o">(</span>5d20h ago<span class="o">)</span>   5d20h   <span class="m">192</span>.168.49.2   minikube   &lt;none&gt;           &lt;none&gt;
<a id="__codelineno-13-14" name="__codelineno-13-14" href="#__codelineno-13-14"></a>kube-system            kube-scheduler-minikube                     <span class="m">1</span>/1     Running     <span class="m">1</span> <span class="o">(</span>5d20h ago<span class="o">)</span>   5d20h   <span class="m">192</span>.168.49.2   minikube   &lt;none&gt;           &lt;none&gt;
<a id="__codelineno-13-15" name="__codelineno-13-15" href="#__codelineno-13-15"></a>kube-system            storage-provisioner                         <span class="m">1</span>/1     Running     <span class="m">2</span> <span class="o">(</span>3m56s ago<span class="o">)</span>   5d20h   <span class="m">192</span>.168.49.2   minikube   &lt;none&gt;           &lt;none&gt;
<a id="__codelineno-13-16" name="__codelineno-13-16" href="#__codelineno-13-16"></a>kubernetes-dashboard   dashboard-metrics-scraper-b74747df5-prqfq   <span class="m">1</span>/1     Running     <span class="m">1</span> <span class="o">(</span>5d20h ago<span class="o">)</span>   5d20h   <span class="m">172</span>.17.0.4     minikube   &lt;none&gt;           &lt;none&gt;
<a id="__codelineno-13-17" name="__codelineno-13-17" href="#__codelineno-13-17"></a>kubernetes-dashboard   kubernetes-dashboard-57bbdc5f89-gx8zs       <span class="m">1</span>/1     Running     <span class="m">2</span> <span class="o">(</span>3m56s ago<span class="o">)</span>   5d20h   <span class="m">172</span>.17.0.3     minikube   &lt;none&gt;           &lt;none&gt;
<a id="__codelineno-13-18" name="__codelineno-13-18" href="#__codelineno-13-18"></a>
<a id="__codelineno-13-19" name="__codelineno-13-19" href="#__codelineno-13-19"></a><span class="c1"># 查看指定 namespace pods 状态</span>
<a id="__codelineno-13-20" name="__codelineno-13-20" href="#__codelineno-13-20"></a>kubectl get pods -n ingress-nginx -o wide
<a id="__codelineno-13-21" name="__codelineno-13-21" href="#__codelineno-13-21"></a>
<a id="__codelineno-13-22" name="__codelineno-13-22" href="#__codelineno-13-22"></a>NAME                                        READY   STATUS      RESTARTS        AGE     IP           NODE       NOMINATED NODE   READINESS GATES
<a id="__codelineno-13-23" name="__codelineno-13-23" href="#__codelineno-13-23"></a>ingress-nginx-admission-create-6f969        <span class="m">0</span>/1     Completed   <span class="m">0</span>               5d20h   <span class="m">172</span>.17.0.3   minikube   &lt;none&gt;           &lt;none&gt;
<a id="__codelineno-13-24" name="__codelineno-13-24" href="#__codelineno-13-24"></a>ingress-nginx-admission-patch-qbdl6         <span class="m">0</span>/1     Completed   <span class="m">0</span>               5d20h   <span class="m">172</span>.17.0.4   minikube   &lt;none&gt;           &lt;none&gt;
<a id="__codelineno-13-25" name="__codelineno-13-25" href="#__codelineno-13-25"></a>ingress-nginx-controller-5959f988fd-2dt6b   <span class="m">1</span>/1     Running     <span class="m">1</span> <span class="o">(</span>5d20h ago<span class="o">)</span>   5d20h   <span class="m">172</span>.17.0.5   minikube   &lt;none&gt;           &lt;none&gt;
</code></pre></div>
<h4 id="pods_1">检查 Pods 详细信息</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="c1"># 查看 namespace 为 kube-system，pod 为 etcd-minikube 的详细信息</span>
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>kubectl describe -n kube-system pod etcd-minikube
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a>Name:                 etcd-minikube
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a>Namespace:            kube-system
<a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a>Priority:             <span class="m">2000001000</span>
<a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a>Priority Class Name:  system-node-critical
<a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a>Node:                 minikube/192.168.49.2
<a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a>Start Time:           Tue, <span class="m">18</span> Oct <span class="m">2022</span> <span class="m">14</span>:25:42 +0800
<a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a>Labels:               <span class="nv">component</span><span class="o">=</span>etcd
<a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a>                      <span class="nv">tier</span><span class="o">=</span>control-plane
<a id="__codelineno-14-12" name="__codelineno-14-12" href="#__codelineno-14-12"></a>Annotations:          kubeadm.kubernetes.io/etcd.advertise-client-urls: https://192.168.49.2:2379
<a id="__codelineno-14-13" name="__codelineno-14-13" href="#__codelineno-14-13"></a>                      kubernetes.io/config.hash: bd495b7643dfc9d3194bd002e968bc3d
<a id="__codelineno-14-14" name="__codelineno-14-14" href="#__codelineno-14-14"></a>                      kubernetes.io/config.mirror: bd495b7643dfc9d3194bd002e968bc3d
<a id="__codelineno-14-15" name="__codelineno-14-15" href="#__codelineno-14-15"></a>                      kubernetes.io/config.seen: <span class="m">2022</span>-10-18T06:25:31.559325794Z
<a id="__codelineno-14-16" name="__codelineno-14-16" href="#__codelineno-14-16"></a>                      kubernetes.io/config.source: file
<a id="__codelineno-14-17" name="__codelineno-14-17" href="#__codelineno-14-17"></a>Status:               Running
<a id="__codelineno-14-18" name="__codelineno-14-18" href="#__codelineno-14-18"></a>IP:                   <span class="m">192</span>.168.49.2
<a id="__codelineno-14-19" name="__codelineno-14-19" href="#__codelineno-14-19"></a>IPs:
<a id="__codelineno-14-20" name="__codelineno-14-20" href="#__codelineno-14-20"></a>  IP:           <span class="m">192</span>.168.49.2
<a id="__codelineno-14-21" name="__codelineno-14-21" href="#__codelineno-14-21"></a>Controlled By:  Node/minikube
<a id="__codelineno-14-22" name="__codelineno-14-22" href="#__codelineno-14-22"></a>...
<a id="__codelineno-14-23" name="__codelineno-14-23" href="#__codelineno-14-23"></a>
<a id="__codelineno-14-24" name="__codelineno-14-24" href="#__codelineno-14-24"></a><span class="c1"># 最常查看的是 Events 项，可以帮我们分析 Pods 问题</span>
<a id="__codelineno-14-25" name="__codelineno-14-25" href="#__codelineno-14-25"></a>Events:
<a id="__codelineno-14-26" name="__codelineno-14-26" href="#__codelineno-14-26"></a>  Type    Reason          Age   From     Message
<a id="__codelineno-14-27" name="__codelineno-14-27" href="#__codelineno-14-27"></a>  ----    ------          ----  ----     -------
<a id="__codelineno-14-28" name="__codelineno-14-28" href="#__codelineno-14-28"></a>  Normal  SandboxChanged  18m   kubelet  Pod sandbox changed, it will be killed and re-created.
<a id="__codelineno-14-29" name="__codelineno-14-29" href="#__codelineno-14-29"></a>  Normal  Pulled          18m   kubelet  Container image <span class="s2">&quot;registry.k8s.io/etcd:3.5.4-0&quot;</span> already present on machine
<a id="__codelineno-14-30" name="__codelineno-14-30" href="#__codelineno-14-30"></a>  Normal  Created         18m   kubelet  Created container etcd
<a id="__codelineno-14-31" name="__codelineno-14-31" href="#__codelineno-14-31"></a>  Normal  Started         18m   kubelet  Started container etcd
</code></pre></div>
<h4 id="json-pods">以 JSON 格式输出 Pods 信息</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="c1"># 输出 namespace 为 kube-system，pod 为 etcd-minikube 的详细信息，使用 JSON 格式打印出来</span>
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>kubectl get -o json -n kube-system pod etcd-minikube
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="o">{</span>
<a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a>    <span class="s2">&quot;apiVersion&quot;</span>: <span class="s2">&quot;v1&quot;</span>,
<a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a>    <span class="s2">&quot;kind&quot;</span>: <span class="s2">&quot;Pod&quot;</span>,
<a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a>    <span class="s2">&quot;metadata&quot;</span>: <span class="o">{</span>
<a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a>        <span class="s2">&quot;annotations&quot;</span>: <span class="o">{</span>
<a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a>            <span class="s2">&quot;kubeadm.kubernetes.io/etcd.advertise-client-urls&quot;</span>: <span class="s2">&quot;https://192.168.49.2:2379&quot;</span>,
<a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a>            <span class="s2">&quot;kubernetes.io/config.hash&quot;</span>: <span class="s2">&quot;bd495b7643dfc9d3194bd002e968bc3d&quot;</span>,
<a id="__codelineno-15-11" name="__codelineno-15-11" href="#__codelineno-15-11"></a>            <span class="s2">&quot;kubernetes.io/config.mirror&quot;</span>: <span class="s2">&quot;bd495b7643dfc9d3194bd002e968bc3d&quot;</span>,
<a id="__codelineno-15-12" name="__codelineno-15-12" href="#__codelineno-15-12"></a>            <span class="s2">&quot;kubernetes.io/config.seen&quot;</span>: <span class="s2">&quot;2022-10-18T06:25:31.559325794Z&quot;</span>,
<a id="__codelineno-15-13" name="__codelineno-15-13" href="#__codelineno-15-13"></a>            <span class="s2">&quot;kubernetes.io/config.source&quot;</span>: <span class="s2">&quot;file&quot;</span>
<a id="__codelineno-15-14" name="__codelineno-15-14" href="#__codelineno-15-14"></a>        <span class="o">}</span>,
<a id="__codelineno-15-15" name="__codelineno-15-15" href="#__codelineno-15-15"></a>        <span class="s2">&quot;creationTimestamp&quot;</span>: <span class="s2">&quot;2022-10-18T06:25:40Z&quot;</span>,
<a id="__codelineno-15-16" name="__codelineno-15-16" href="#__codelineno-15-16"></a>        <span class="s2">&quot;labels&quot;</span>: <span class="o">{</span>
<a id="__codelineno-15-17" name="__codelineno-15-17" href="#__codelineno-15-17"></a>            <span class="s2">&quot;component&quot;</span>: <span class="s2">&quot;etcd&quot;</span>,
<a id="__codelineno-15-18" name="__codelineno-15-18" href="#__codelineno-15-18"></a>            <span class="s2">&quot;tier&quot;</span>: <span class="s2">&quot;control-plane&quot;</span>
<a id="__codelineno-15-19" name="__codelineno-15-19" href="#__codelineno-15-19"></a>        <span class="o">}</span>,
<a id="__codelineno-15-20" name="__codelineno-15-20" href="#__codelineno-15-20"></a>        <span class="s2">&quot;name&quot;</span>: <span class="s2">&quot;etcd-minikube&quot;</span>,
<a id="__codelineno-15-21" name="__codelineno-15-21" href="#__codelineno-15-21"></a>        <span class="s2">&quot;namespace&quot;</span>: <span class="s2">&quot;kube-system&quot;</span>,
<a id="__codelineno-15-22" name="__codelineno-15-22" href="#__codelineno-15-22"></a>        <span class="s2">&quot;ownerReferences&quot;</span>: <span class="o">[</span>
<a id="__codelineno-15-23" name="__codelineno-15-23" href="#__codelineno-15-23"></a>            <span class="o">{</span>
<a id="__codelineno-15-24" name="__codelineno-15-24" href="#__codelineno-15-24"></a>                <span class="s2">&quot;apiVersion&quot;</span>: <span class="s2">&quot;v1&quot;</span>,
<a id="__codelineno-15-25" name="__codelineno-15-25" href="#__codelineno-15-25"></a>                <span class="s2">&quot;controller&quot;</span>: true,
<a id="__codelineno-15-26" name="__codelineno-15-26" href="#__codelineno-15-26"></a>                <span class="s2">&quot;kind&quot;</span>: <span class="s2">&quot;Node&quot;</span>,
<a id="__codelineno-15-27" name="__codelineno-15-27" href="#__codelineno-15-27"></a>                <span class="s2">&quot;name&quot;</span>: <span class="s2">&quot;minikube&quot;</span>,
<a id="__codelineno-15-28" name="__codelineno-15-28" href="#__codelineno-15-28"></a>                <span class="s2">&quot;uid&quot;</span>: <span class="s2">&quot;7e1475aa-5bf6-4c76-8180-ae8f006b6adf&quot;</span>
<a id="__codelineno-15-29" name="__codelineno-15-29" href="#__codelineno-15-29"></a>            <span class="o">}</span>
<a id="__codelineno-15-30" name="__codelineno-15-30" href="#__codelineno-15-30"></a>        <span class="o">]</span>,
<a id="__codelineno-15-31" name="__codelineno-15-31" href="#__codelineno-15-31"></a>...
</code></pre></div>
<h4 id="services">列出所有的 Services</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="c1"># 列出所有的 services，-o wide 打印出所有的信息</span>
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>kubectl get services -o wide
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a>NAME         TYPE        CLUSTER-IP   EXTERNAL-IP   PORT<span class="o">(</span>S<span class="o">)</span>   AGE     SELECTOR
<a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a>kubernetes   ClusterIP   <span class="m">10</span>.96.0.1    &lt;none&gt;        <span class="m">443</span>/TCP   5d20h   &lt;none&gt;
</code></pre></div>
<h3 id="_9">创建一个简单的服务</h3>
<h4 id="_10">创建资源对象</h4>
<p>这里我们尝试创建 NGINX 服务用于验证集群可用性</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="c1"># 创建一个新的资源对象，命名为 nginx-master，pod 数量指定为 2 个</span>
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>kubectl create deployment nginx-master --image<span class="o">=</span>docker.io/nginx:latest --replicas<span class="o">=</span><span class="m">2</span>
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>
<a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a>deployment.apps/nginx-master created
<a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a>
<a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a><span class="c1"># 使用刚刚创建的 nginx-master 创建新的 services</span>
<a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a>kubectl expose deployment nginx-master --type<span class="o">=</span>NodePort --port<span class="o">=</span><span class="m">80</span>
<a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a>
<a id="__codelineno-17-9" name="__codelineno-17-9" href="#__codelineno-17-9"></a>service/nginx-master exposed
</code></pre></div>
<h4 id="_11">对外开启服务</h4>
<p>刚刚创建的 NGINX 服务是对外提供服务使用的，所以我们使用 <code>port-forward</code> 功能对外提供服务</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="c1"># 由于是云服务器不是本地服务器，所以完全开放网络以便验证，对外端口 7080</span>
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>kubectl port-forward --address <span class="m">0</span>.0.0.0 service/nginx-master <span class="m">7080</span>:80
</code></pre></div>
<p>如果一切正常会返回如下页面</p>
<p><img alt="nginx-master" src="/assets/images/docs/chapter04-01.png" /></p>
<h3 id="_12">配置负载均衡</h3>
<p>对于生产环境使用负载均衡是非常安全的方式，这里简单的介绍负载均衡的配置，更详细的配置可以参考 <a href="/Chapter09/chapter09.md">Kubernetes 负载均衡</a></p>
<p>与刚刚进行的服务部署类似，这里我们在创建负载均衡的时候需要指定 <code>--type=LoadBalancer</code>，之后使用 Minikube 提供的 <code>tunnel</code> 工具可以快速开启负载均衡配置</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="c1"># 创建一个新的资源对象，命名为 nginx-lb，pod 数量指定为 2 个</span>
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="c1"># kubectl create deployment nginx-lb --image=docker.io/nginx:latest --replicas=2</span>
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>deployment.apps/nginx-lb created
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a>
<a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a><span class="c1"># 使用刚刚创建的 nginx-lb 创建新的 services</span>
<a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a><span class="c1"># kubectl expose deployment nginx-lb --type=LoadBalancer --port=80</span>
<a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a>service/nginx-lb exposed
<a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a>
<a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a><span class="c1"># sudoers 文件中添加 minikube，root 用户下执行</span>
<a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a>sudoedit /etc/sudoers
<a id="__codelineno-19-11" name="__codelineno-19-11" href="#__codelineno-19-11"></a>
<a id="__codelineno-19-12" name="__codelineno-19-12" href="#__codelineno-19-12"></a><span class="c1"># 为用户 minikube 创建一个密码</span>
<a id="__codelineno-19-13" name="__codelineno-19-13" href="#__codelineno-19-13"></a>passwd minikube
<a id="__codelineno-19-14" name="__codelineno-19-14" href="#__codelineno-19-14"></a>
<a id="__codelineno-19-15" name="__codelineno-19-15" href="#__codelineno-19-15"></a><span class="c1"># 开启负载均衡</span>
<a id="__codelineno-19-16" name="__codelineno-19-16" href="#__codelineno-19-16"></a>minikube tunnel
<a id="__codelineno-19-17" name="__codelineno-19-17" href="#__codelineno-19-17"></a>
<a id="__codelineno-19-18" name="__codelineno-19-18" href="#__codelineno-19-18"></a><span class="c1"># 负载均衡状态输出</span>
<a id="__codelineno-19-19" name="__codelineno-19-19" href="#__codelineno-19-19"></a>Status: 
<a id="__codelineno-19-20" name="__codelineno-19-20" href="#__codelineno-19-20"></a>    machine: minikube
<a id="__codelineno-19-21" name="__codelineno-19-21" href="#__codelineno-19-21"></a>    pid: <span class="m">257973</span>
<a id="__codelineno-19-22" name="__codelineno-19-22" href="#__codelineno-19-22"></a>    route: <span class="m">10</span>.96.0.0/12 -&gt; <span class="m">192</span>.168.49.2
<a id="__codelineno-19-23" name="__codelineno-19-23" href="#__codelineno-19-23"></a>    minikube: Running
<a id="__codelineno-19-24" name="__codelineno-19-24" href="#__codelineno-19-24"></a>    services: <span class="o">[</span>nginx-lb<span class="o">]</span>
<a id="__codelineno-19-25" name="__codelineno-19-25" href="#__codelineno-19-25"></a>    errors: 
<a id="__codelineno-19-26" name="__codelineno-19-26" href="#__codelineno-19-26"></a>        minikube: no errors
<a id="__codelineno-19-27" name="__codelineno-19-27" href="#__codelineno-19-27"></a>        router: no errors
<a id="__codelineno-19-28" name="__codelineno-19-28" href="#__codelineno-19-28"></a>        loadbalancer emulator: no errors
</code></pre></div>
<h2 id="_13">结语</h2>
<p>至此我们已经学习了使用 Minikube 搭建单节点集群课程、了解了基本的 K8s 常用的操作命令，并实施部署了一次服务搭建，之后的课程我们讲围绕 K8s 的关键组件进行更加细致的学习，欢迎继续进行阅读</p>





                
              </article>
            </div>
          
          
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            回到页面顶部
          </a>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="页脚" >
      
        
        <a href="../../Chapter03/chapter03/" class="md-footer__link md-footer__link--prev" aria-label="上一页: Kubernetes 组件" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                上一页
              </span>
              Kubernetes 组件
            </div>
          </div>
        </a>
      
      
        
        <a href="../../Chapter05/chapter05/" class="md-footer__link md-footer__link--next" aria-label="下一页: Kubernetes 容器" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                下一页
              </span>
              Kubernetes 容器
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright © 2013 - 2022 ProjectTAM. All Rights Reserved.
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
      
      
    
    <a href="https://github.com/orgs/ProjectTAM" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    <a href="mailto:admin@projecttam.com" target="_blank" rel="noopener" title="" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M498.1 5.6c10.1 7 15.4 19.1 13.5 31.2l-64 416c-1.5 9.7-7.4 18.2-16 23s-18.9 5.4-28 1.6l-126.3-52.5-40.1 74.5c-5.2 9.7-16.3 14.6-27 11.9S192 499 192 488v-96c0-5.3 1.8-10.5 5.1-14.7l165.3-212.6c2.5-7.1-6.5-14.3-13-8.4l-179 161.9-32 28.9c-9.2 8.3-22.3 10.6-33.8 5.8l-85-35.4C8.4 312.8.8 302.2.1 290s5.5-23.7 16.1-29.8l448-256c10.7-6.1 23.9-5.5 34 1.4z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.tracking", "navigation.indexes", "navigation.top", "navigation.sections", "navigation.indexes", "toc.follow", "search.suggest", "search.highlight", "announce.dismiss"], "search": "../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.config.lang": "ja", "search.config.pipeline": "trimmer, stemmer", "search.config.separator": "[\\s\\-\uff0c\u3002]+", "search.placeholder": "\u641c\u7d22", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version.title": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.d6c3db9e.min.js"></script>
      
        <script src="../../assets/javascripts/shortcuts.js"></script>
      
        <script src="../../assets/stylesheets/extra.css"></script>
      
    
  </body>
</html>